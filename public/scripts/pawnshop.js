document.addEventListener('DOMContentLoaded', function () {
    const weightOptions = document.querySelectorAll('.weight-option');
    const weightItems = document.querySelectorAll('.weight-item');
    const inputField = document.querySelector('.input-field');
    const resultValue = document.querySelector('.result-value');

    let currentPricePerGram = 1500; // начальная цена за грамм

    // Обработчик для кнопок выбора пробы
    weightOptions.forEach(option => {
        option.addEventListener('click', function () {
            weightOptions.forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');
            currentPricePerGram = parseInt(this.getAttribute('data-price'));
            updateResult();
        });
    });

    // Обработчик для кнопок выбора веса
    weightItems.forEach(item => {
        item.addEventListener('click', function () {
            weightItems.forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');
            const weight = this.getAttribute('data-weight');
            inputField.value = `${weight} г`;
            updateResult();
        });
    });

    // Обработчик для поля ввода веса
    inputField.addEventListener('focus', function () {
        const value = this.value.trim();
        if (value.endsWith('г')) {
            this.value = value.slice(0, -2);
        }
    });

    inputField.addEventListener('blur', function () {
        const value = this.value.trim();
        if (value && !value.endsWith('г')) {
            this.value = `${value} г`;
        }
        updateResult();
    });

    inputField.addEventListener('input', function () {
        updateResult();
    });

    // Функция для обновления результата
    function updateResult() {
        const inputValue = inputField.value.trim();
        let weight = parseInt(inputValue);

        if (isNaN(weight)) {
            weight = 0;
        } else if (inputValue.endsWith('г')) {
            weight = parseInt(inputValue.slice(0, -2));
        }

        const totalPrice = currentPricePerGram * weight;
        resultValue.textContent = `${totalPrice} ₽`;
    }
});


const answers = [
    "<h3>Пользование займом</h3><p>Для получения потребительского займа Клиент предоставляет обеспечение в виде ювелирных изделий из золота (Au проба 375/500/583/585/750/850/900/958), монет, золотые коронки, золотые корпуса часов.<p>Займы предоставляются в российских рублях путем выдачи наличных или перечисления безналичных денежных средств на банковский счёт Клиента (Заёмщика).</p><p>Заем возвращается путем внесения Заемщиком наличных денежных средств в кассу Займодавца (ломбарда по месту выдачи займа) при предъявлении документа, удостоверяющего личность Заёмщика и залогового билета.</p><p>Сумма потребительского займа не ограничена и зависит от оценки предмета залога и срока предоставления займа.</p><p>Срок возврата займа от 1 до 90 календарных дней.</p><p>Минимальный срок пользования займом — 1 день.</p><p>Заемщик вправе отказаться от получения займа до момента получения займа наличными денежными средствами из кассы Займодавца или до момента перечисления суммы займа на банковский счет Заемщика.</p><p>Проценты за пользование займом начисляются со дня, следующего за днем предоставления займа (за исключением случаев погашения займа в день его выдачи) и выплачиваются в конце срока пользования займом.</p><p>Заемщик имеет возможность частично погасить займ, а также вправе вернуть сумму займа в любой день до наступления даты, указанной в договоре займа как дата возврата займа, уплатив при этом проценты за пользование займом в размере, предусмотренном условиями договора займа, начисленные Займодавцем до дня фактического возврата Заёмщиком займа.</p><p>Минимальная процентная ставка по займу составляет 36,5 процентов годовых. Максимальная процентная ставка по займу равна предельному среднерыночному значению полной стоимости потребительских кредитов (займов), рассчитанным и опубликованным Банком России, применительно к соответствующему периоду. Переменная процентная ставка не применяется. Диапазоны значений полной стоимости потребительского займа зависят от <p></p>применяемых Займодавцем тарифов, акций, срока и суммы займа и указываются в индивидуальных условиях договора.</p>",

    "<h3>Обмен старого золота на новые украшения</h3><p>В MOONLIGHT вы можете обменять старые изделия на новые. Мы принимаем практически любые украшения из золота — серьги, кулоны, брошки, золотой лом и многое другое, — а вы получаете возможность оплатить часть нового изделия из ассортимента или его полную стоимость.</p><p>В MOONLIGHT — безопасные и быстрые сделки, экспертная оценка и выгодные цены.</p>",

    "<h3>Не подлежат приёму в ломбард</h3><p>Потребительский заём с условием предоставления обеспечения в виде залога ювелирных и других изделий из драгоценных металлов и (или) драгоценных камней, за исключением следующих видов залогов:</p><ul><li>алмазное сырье и полуфабрикаты;</li><li>драгоценные металлы в самородном и аффинированном виде, а также в сырье, сплавах, полуфабрикатах, промышленных продуктах, химических соединениях и отходах производства и потребления;</li><li>сусальное золото;</li><li>полуфабрикаты ювелирного и зубопротезного производства (кроме коронок и дисков);</li><li>изделия производственно-технического назначения из золота, платины, палладия и серебра (пластины, проволока, контакты, закрепки, лабораторная посуда и др.);</li><li>драгоценные камни – рубины, сапфиры, изумруды, бриллианты и другие, а также природный жемчуг в необработанном виде;</li><li>ордена и медали, кроме памятных, юбилейных (именных), содержащие драгоценные металлы;</li><li>изделия, содержащие драгоценные металлы и драгоценные камни, изъятые из гражданского оборота или ограниченные в обороте (холодное, огнестрельное оружие с отделкой и др.).</li></ul>",

    "<h3>Запрет оформления займов гражданам недружественных стран</h3><p>С 01.03.2022 года введен запрет на оформление займов лицам иностранных государств, совершающих недружественные действия, согласно, Указа Президента РФ от 01.03.2022 № 81 «О дополнительных временных мерах экономического характера по обеспечению финансовой стабильности Российской Федерации».</p>",

    "<h3>Кредитные каникулы для мобилизованных граждан</h3><p>Воспользоваться кредитными каникулами могут мобилизованные (контрактники, добровольцы), оформившие займ до призыва на военную службу (до начала участия контрактника в СВО, подписания контракта добровольцем) при предоставлении документа, подтверждающего факт мобилизации либо начала участия в СВО. Кредитные каникулы предоставляются клиенту на срок мобилизации (срок участия в СВО контрактника, на срок действия контракта, заключенного добровольцем), увеличенный на 30 дней.<p>Требование о предоставлении кредитных каникул можно подать в любой момент в период действия договора займа, но не ранее 21 сентября 2022 года (а также не ранее даты мобилизации либо начала участия в СВО) и не позднее 31 декабря 2024 года (в соответствии с Федеральным законом от 25.12.2023 N 663-ФЗ).</p><p>В случае нахождения залогодателя в зоне СВО, члены семьи мобилизованного (контрактника, добровольца) могут подать требование о предоставлении кредитных каникул приложив документы, подтверждающие статус в качестве члена семьи военнослужащего (например, это свидетельство о заключении брака) и приложить документы, подтверждающие в соответствии с законодательством Российской Федерации его участие в специальной военной операции.</p><p>Если мобилизованный (контрактник, доброволец) или члены его семьи представят недействительные документы, то льготный период может быть не предоставлен. Законодательством РФ установлен срок рассмотрения требования - не более 10 дней с момента получения. Если в течение 15 дней после дня направления требования не получен ответа, льготный период считается установленным со дня направления Заемщиком требования (при условии, что иная дата начала льготного периода не указана в требовании).</p>"
];

function showAnswer(index) {
    const answerContainer = document.getElementById('answerContainer');
    answerContainer.innerHTML = answers[index];
}